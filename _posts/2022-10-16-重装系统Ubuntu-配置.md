---
layout: post
title: 重装系统Ubuntu 配置
categories: 记录
tags: Ubuntu
---
# 重装系统Ubuntu 配置

由于磁盘爆了，重新安装系统后许多问题都出现了，写个文档记录下。

## 配置代理

首先需要联网，不然很多东西无从下载。这里使用[cfw](https://github.com/Fndroid/clash_for_windows_pkg/releases) 来配置代理，在试过SSR，Clash之后这个是最方便的。具体的方法就是下载解压后执行cfw，配置下端口号，在设置中也设为相同的号码，重启后就可以正常上网。

要想在shell中直接使用代理，那么需要在`TNU mode`中设置`TNU Stack`为`system`。

## 杂七杂八的东西安装

```shell
sudo apt-get install vim mlocate flameshot zsh git curl translate-shell xclip ruby-full
# ...
# 配置zsh为默认shell
chsh -s /bin/zsh
reboot
# 配置locate数据库
update的
```

## 安装配置zsh

首先安装一个其中的插件：oh-my-zsh:

```shell
sh -c "$(wget https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh -O -)"
git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
# 安装自动补全插件
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
# shell语法提示
mkdir -p "$HOME/.zsh"
git clone https://github.com/sindresorhus/pure.git "$HOME/.zsh/pure"
# .zshrc
fpath+=($HOME/.zsh/pure)
autoload -U promptinit; promptinit
prompt pure
# 安装主题插件

```

## 配置翻译脚本

```shell
alias 'trp'='sh /media/lh/Data/Rice_Bowl/Python/20220811Trans_Script/ShellScript.sh'
alias 'trw'='sh /media/lh/Data/Rice_Bowl/Shell/20220822Trans_word/ShellScript.sh'
alias 'trs'='trans -shell -t zh'
```

在`~/.zshrc`中输入保存。

## 修改输入法与配置字体大小

改一下字体，自带的字体不好看，此外字体也太小，对于我不大友好。首先在[这里](http://xiazaiziti.com/55657.html)下载字体文件，打开后即可安装。

## 安装Typora与配置图床

作为光荣的白嫖党，自然是安装免费版的Typora，并且将其设置为不更新。网址在[这里](https://zahui.fan/posts/64b52e0d/)，下载后转到目录，执行以下指令：

```shell
sudo dpkg -i Typora_Linux_0.11.18_amd64.deb 
# 安装软件包

sudo apt-mark hold typora
# 保持当前版本不更新
```

关于图床方面，下载Picgo来上传图片到图床上。

## 配置博客相关环境

先把jekyll的环境给搭上

```shell
gem install bundler jekyll
cd /media/lh/Data/Rice_Bowl/BLOG
bundle install
bundle exec jekyll serve
```

需要把原本的`python`脚本进行修改，作博客文章的自动化。

```shell
# 编辑处理脚本
python3 /media/lh/Data/Rice_Bowl/BLOG/blog/main.py
cd /media/lh/Data/Rice_Bowl/BLOG
git add .
echo  'enter the message'
git commit -m 
git push -u origin gh-pages-mytest
```

## 安装IDE

```shell
sudo snap install pycharm-professional --classic
```

