---
layout: post
title: 记录双系统的启动过程
categories: 系统适配 
tags: Ubuntu 整理汇总
---
记录双系统的启动过程

首先是希望搞清楚启动的时候会进行什么活动。再次是

在计算机上电开始，主要是有UEFI和BIOS启动

> 启动本身无外乎三个步骤：
>
> **1.Rom Stage**：在这个阶段没有内存，需要在ROM上运行代码。这时因为没有内存，没有C语言运行需要的栈空间，开始往往是汇编语言，直接在ROM空间上运行。在找到个临时空间（Cache空间用作RAM，Cache As Ram, CAR）后，C语言终于可以粉墨登场了，后期用C语言初始化内存和为这个目的需要做的一切服务。
>
> **2. Ram Stage**: 在经过 ROM阶段的困难情况后，我们终于有了可以大展拳脚的内存，很多额外需要大内存的东西可以开始运行了。在这时我们开始进行初始化芯片组、CPU、主板模块等等核心过程。
>
> **3. Find something to boot Stage**: 终于要进入正题了，需要启动，我们找到启动设备。就要枚举设备，发现启动设备，并把启动设备之前需要依赖的节点统统打通。然后开始移交工作，Windows或者Linux的时代开始。

存在主板上的UEFI为上层的操作系统等内容提供了抽象。UEFI会寻找EFI分区来找到对应位置的启动项。那么问题就在于如何区分加载的什么系统，也就是工作流到什么地方去的问题。

在装有双系统的电脑上EFI文件有写什么内容，又起到什么作用呢，需要打开看看。



